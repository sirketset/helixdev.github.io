<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Helix Menu - CardÃ¡pio Hiperdimensional</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Three.js -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#ef4444',
                        secondary: '#f59f00',
                        accent: '#facc15'
                    }
                }
            }
        };
    </script>
    <style>
        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            overflow: hidden;
            color: white;
            /* Impede zoom acidental no mobile */
            touch-action: manipulation;
        }
        .sidebar {
            position: fixed;
            top: 0;
            height: 100vh;
            width: 280px;
            background: rgba(15, 15, 30, 0.95);
            backdrop-filter: blur(12px);
            border-right: 1px solid rgba(239, 68, 68, 0.3);
            z-index: 30;
            padding: 1.5rem;
            overflow-y: auto;
            transition: transform 0.3s ease;
        }
        canvas {
            display: block;
        }
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            padding: 0.75rem 1rem;
            z-index: 25;
            border-bottom: 1px solid rgba(239, 68, 68, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .controls {
            position: fixed;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 16px;
            pointer-events: none;
            z-index: 20;
        }
        .btn {
            background: rgba(239, 68, 68, 0.9);
            color: white;
            border: none;
            font-size: 1.25rem;
            padding: 10px 20px;
            border-radius: 14px;
            cursor: pointer;
            pointer-events: auto;
            user-select: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease;
        }
        .btn:active { transform: scale(0.95); }
        @media (min-width: 768px) {
            .controls { display: none; }
            #sidebarToggle { display: none !important; }
        }
        .cart-input {
            width: 100%;
            padding: 5px 8px;
            margin-top: 5px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            color: white;
            font-size: 0.8rem;
        }
        .cart-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse {
            animation: pulse 1.5s ease-in-out infinite;
        }
        .lang-dropdown {
            transform-origin: top;
            animation: dropdown-slide-down 0.2s ease-out;
        }
        @keyframes dropdown-slide-down {
            from {
                opacity: 0;
                transform: scaleY(0.9);
            }
            to {
                opacity: 1;
                transform: scaleY(1);
            }
        }
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            /* Permite touch para scroll, mas nÃ£o zoom */
            touch-action: pan-y;
        }
        #sidebarToggle {
            position: fixed;
            top: 12px;
            left: 12px;
            z-index: 35;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            cursor: pointer;
        }
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 60;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: #111827;
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            max-width: 400px;
            width: 90%;
            color: white;
        }
        .modal h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: #facc15;
        }
        .modal input {
            width: 100%;
            padding: 8px 12px;
            margin: 6px 0 12px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            color: white;
        }
        .modal .error {
            color: #ef4444;
            font-size: 0.85rem;
            margin-top: 4px;
            min-height: 1.2rem;
        }
        .modal-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .modal-buttons button {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
        }
        .modal-buttons .cancel {
            background: #374151;
        }
        .modal-buttons .confirm {
            background: linear-gradient(to right, #ef4444, #f59f00);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Sidebar retrÃ¡til -->
    <aside id="mobileSidebar" class="sidebar -translate-x-full md:translate-x-0">
        <div class="flex items-center mb-6">
            <div class="mr-2 fire">ğŸ”¥</div>
            <h1 class="text-xl font-bold bg-gradient-to-r from-red-500 to-yellow-400 bg-clip-text text-transparent">
                Helix Menu
            </h1>
        </div>
        <div class="mt-4">
            <h3 class="text-sm font-semibold text-gray-400 mb-2">Filtrar por categoria</h3>
            <div id="categoryFilters" class="flex flex-wrap gap-2">
                <button data-category="all" class="filter-btn bg-red-600 text-white px-3 py-1 rounded-full text-xs font-medium">Todos</button>
                <button data-category="lanches" class="filter-btn bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-full text-xs">Lanches</button>
                <button data-category="bebidas_quentes" class="filter-btn bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-full text-xs">Bebidas Quentes</button>
                <button data-category="bebidas_frias" class="filter-btn bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-full text-xs">Bebidas Frias</button>
                <button data-category="drinks" class="filter-btn bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-full text-xs">Drinks</button>
                <button data-category="aperitivos" class="filter-btn bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-full text-xs">Aperitivos</button>
                <button data-category="especiais" class="filter-btn bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-full text-xs">Especiais</button>
                <button data-category="combos" class="filter-btn bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-full text-xs">Combos</button>
            </div>
        </div>
        <div class="mt-6">
            <h3 id="cartTitle" class="text-lg font-semibold mb-4 text-yellow-300 flex items-center">
                ğŸ§¾ Seu Pedido
            </h3>
            <div id="cartItems" class="space-y-3 max-h-60 overflow-y-auto pr-2">
                <p class="text-gray-400 text-sm text-center py-4">Seu carrinho estÃ¡ vazio</p>
            </div>
            <div id="cartTotal" class="hidden mt-4 pt-4 border-t border-red-500/20">
                <div class="flex justify-between items-center font-bold text-lg">
                    <span id="totalLabel">Total:</span>
                    <span id="totalAmount" class="text-yellow-400">R$ 0,00</span>
                </div>
                <div class="grid grid-cols-1 gap-2 mt-3">
                    <button id="pickupBtn" class="bg-gradient-to-r from-red-600 to-red-700 py-2 rounded-lg font-semibold hover:shadow-lg transition-all">
                        Retirar no Local
                    </button>
                    <button id="deliveryBtnCart" class="bg-gradient-to-r from-yellow-500 to-yellow-600 py-2 rounded-lg font-semibold text-black hover:shadow-lg transition-all">
                        Delivery
                    </button>
                    <button id="tableBtn" class="bg-gradient-to-r from-blue-600 to-purple-600 py-2 rounded-lg font-semibold hover:shadow-lg transition-all">
                        Atendimento na Mesa
                    </button>
                </div>
            </div>
        </div>
        <div id="contact-section" class="mt-8 pt-6 border-t border-red-500/20"></div>
    </aside>
    <!-- BotÃ£o de toggle para mobile -->
    <button id="sidebarToggle">â¤</button>
    <!-- Header -->
    <header>
        <h2 id="currentProduct" class="text-lg font-semibold text-center flex-1">Navegue pela hÃ©lice</h2>
        <div class="flex items-center gap-2">
            <div class="relative" id="languageSelector">
                <button id="langToggle" class="px-2 py-1 bg-blue-600 text-white rounded text-xs font-bold">
                    PT
                </button>
                <div id="langDropdown" class="absolute top-full mt-1 w-32 bg-gray-800 border border-red-500/30 rounded shadow-lg overflow-hidden hidden z-50">
                    <div class="flex flex-col text-xs" id="langDropdownContent">
                        <button data-lang="pt" class="px-3 py-1 hover:bg-gray-700 text-white">ğŸ‡§ğŸ‡· PT</button>
                        <button data-lang="en" class="px-3 py-1 hover:bg-gray-700 text-white">ğŸ‡ºğŸ‡¸ EN</button>
                        <button data-lang="es" class="px-3 py-1 hover:bg-gray-700 text-white">ğŸ‡ªğŸ‡¸ ES</button>
                        <button data-lang="de" class="px-3 py-1 hover:bg-gray-700 text-white">ğŸ‡©ğŸ‡ª DE</button>
                        <button data-lang="fr" class="px-3 py-1 hover:bg-gray-700 text-white">ğŸ‡«ğŸ‡· FR</button>
                        <button data-lang="ja" class="px-3 py-1 hover:bg-gray-700 text-white">ğŸ‡¯ğŸ‡µ JA</button>
                        <button data-lang="zh-TW" class="px-3 py-1 hover:bg-gray-700 text-white">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
                    </div>
                </div>
            </div>
            <button id="cartButton" class="bg-gradient-to-r from-red-500 to-yellow-400 px-3 py-1 rounded font-medium flex items-center gap-1 text-sm">
                ğŸ›’ <span id="cartCount">0</span>
            </button>
        </div>
    </header>
    <!-- Canvas do cardÃ¡pio -->
    <div id="canvas-container"></div>
    <!-- Controles mobile -->
    <div class="controls">
        <button class="btn" id="prevBtn">â¬… Anterior</button>
        <button class="btn" id="nextBtn">PrÃ³ximo â¡</button>
    </div>
    <!-- Modais -->
    <div id="addItemModal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50">
        <div class="bg-gray-900 border border-red-500/30 backdrop-blur-sm rounded-2xl p-6 max-w-md mx-4 text-white transform scale-95 opacity-0 transition-all duration-300" id="modalContent">
            <div class="text-center">
                <div class="w-16 h-16 bg-gradient-to-r from-red-600 to-yellow-400 rounded-full flex items-center justify-center mx-auto mb-4">
                    âœ…
                </div>
                <h3 id="modalTitle" class="text-2xl font-bold mb-2">Adicionado!</h3>
                <p id="modalItemName" class="mb-6 text-gray-300">Foi para o seu carrinho.</p>
                <div class="flex space-x-3">
                    <button id="continueShopping" class="flex-1 bg-gray-800 hover:bg-gray-700 py-2 rounded-lg font-semibold">
                        Continuar
                    </button>
                    <button id="goToCart" class="flex-1 bg-gradient-to-r from-red-600 to-yellow-400 text-white py-2 rounded-lg font-semibold">
                        Ver Carrinho
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="customizeModal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50">
        <div class="bg-gray-900 border border-red-500/30 backdrop-blur-sm rounded-2xl p-6 max-w-lg mx-4 text-white transform scale-95 opacity-0 transition-all duration-300" id="customizeContent">
            <h3 id="customizeTitle" class="text-2xl font-bold mb-4"></h3>
            <div class="mb-6">
                <h4 id="removeLabel" class="font-semibold mb-2">Remover ingredientes:</h4>
                <div id="ingredientsList" class="space-y-2 max-h-32 overflow-y-auto"></div>
            </div>
            <div class="mb-6">
                <h4 id="addLabel" class="font-semibold mb-2">Adicionar extras (+):</h4>
                <div id="extrasList" class="space-y-2 max-h-32 overflow-y-auto"></div>
            </div>
            <div class="mb-6">
                <label for="customObservation" class="block text-sm mb-1" id="obsLabel">ObservaÃ§Ãµes:</label>
                <input type="text" id="customObservation" class="w-full p-2 bg-gray-800 rounded border border-gray-600 text-white text-sm" placeholder="" />
            </div>
            <div class="flex space-x-3">
                <button id="cancelCustomize" class="flex-1 bg-gray-800 hover:bg-gray-700 py-2 rounded-lg font-semibold">
                    Cancelar
                </button>
                <button id="addToCartCustom" class="flex-1 bg-gradient-to-r from-green-600 to-blue-600 py-2 rounded-lg font-semibold">
                    Adicionar
                </button>
            </div>
        </div>
    </div>
    <!-- Modal Mesa -->
    <div id="tableModal" class="modal">
        <div class="modal-content">
            <h3>ğŸ“ NÃºmero da Mesa</h3>
            <input type="text" id="tableNumberInput" placeholder="Ex: 5" maxlength="10" />
            <div id="tableError" class="error"></div>
            <div class="modal-buttons">
                <button class="cancel" id="cancelTable">Cancelar</button>
                <button class="confirm" id="sendTableOrder">Enviar Pedido Ã  Cozinha</button>
            </div>
        </div>
    </div>
    <!-- Modal Delivery -->
    <div id="deliveryModal" class="modal">
        <div class="modal-content">
            <h3>ğŸ  Seu EndereÃ§o</h3>
            <input type="text" id="streetInput" placeholder="Rua" />
            <input type="text" id="numberInput" placeholder="NÃºmero" maxlength="10" />
            <input type="text" id="cepInput" placeholder="CEP" maxlength="9" />
            <div id="deliveryError" class="error"></div>
            <div class="modal-buttons">
                <button class="cancel" id="cancelDelivery">Cancelar</button>
                <button class="confirm" id="sendDeliveryOrder">Enviar Pedido Ã  Cozinha</button>
            </div>
        </div>
    </div>
    <script>
        // === ConfiguraÃ§Ã£o do Restaurante ===
        const restaurantConfig = {
            name: "Helix Menu",
            address: "Rua dos Hot Dogs, 123",
            phone: "(11) 99999-9999",
            whatsapp: "5511911324392",
            email: "contato@mirimdog.com.br",
            hours: {
                monday: { open: "10:00", close: "22:00" },
                tueToFri: { open: "10:00", close: "22:00" },
                saturday: { open: "09:00", close: "23:00", color: "text-blue-400" },
                sundayHoliday: { open: "11:00", close: "21:00", color: "text-purple-400" }
            },
            specialNotice: "HorÃ¡rio pode variar em feriados. Confirme pelo WhatsApp!"
        };
        // === TraduÃ§Ãµes das categorias ===
        const categoryTranslations = {
            pt: { all: "Todos", lanches: "Lanches", bebidas_quentes: "Bebidas Quentes", bebidas_frias: "Bebidas Frias", drinks: "Drinks", aperitivos: "Aperitivos", especiais: "Especiais", combos: "Combos" },
            en: { all: "All", lanches: "Snacks", bebidas_quentes: "Hot Drinks", bebidas_frias: "Cold Drinks", drinks: "Drinks", aperitivos: "Appetizers", especiais: "Specials", combos: "Combos" },
            es: { all: "Todos", lanches: "Snacks", bebidas_quentes: "Bebidas Calientes", bebidas_frias: "Bebidas FrÃ­as", drinks: "Tragos", aperitivos: "Aperitivos", especiais: "Especiales", combos: "Combos" },
            de: { all: "Alle", lanches: "Snacks", bebidas_quentes: "HeiÃŸe GetrÃ¤nke", bebidas_frias: "Kalte GetrÃ¤nke", drinks: "Cocktails", aperitivos: "Vorspeisen", especiais: "SpezialitÃ¤ten", combos: "Kombos" },
            fr: { all: "Tous", lanches: "Snacks", bebidas_quentes: "Boissons Chaudes", bebidas_frias: "Boissons Froides", drinks: "Cocktails", aperitivos: "EntrÃ©es", especiais: "SpÃ©ciaux", combos: "Combos" },
            ja: { all: "ã™ã¹ã¦", lanches: "ã‚¹ãƒŠãƒƒã‚¯", bebidas_quentes: "ãƒ›ãƒƒãƒˆãƒ‰ãƒªãƒ³ã‚¯", bebidas_frias: "ã‚³ãƒ¼ãƒ«ãƒ‰ãƒ‰ãƒªãƒ³ã‚¯", drinks: "ãƒ‰ãƒªãƒ³ã‚¯", aperitivos: "å‰èœ", especiais: "ã‚¹ãƒšã‚·ãƒ£ãƒ«", combos: "ã‚³ãƒ³ãƒœ" },
            "zh-TW": { all: "å…¨éƒ¨", lanches: "å°é£Ÿ", bebidas_quentes: "ç†±é£²", bebidas_frias: "å†·é£²", drinks: "é…’ç²¾é£²æ–™", aperitivos: "é–‹èƒƒèœ", especiais: "ç‰¹è‰²èœ", combos: "å¥—é¤" }
        };
        const languages = {
            pt: {
                cartTitle: "ğŸ§¾ Seu Pedido",
                cartEmpty: "Seu carrinho estÃ¡ vazio",
                total: "Total:",
                contactTitle: "ğŸ“ Contato",
                hoursTitle: "ğŸ•’ HorÃ¡rios & Contato",
                address: "ğŸ“ Rua dos Hot Dogs, 123",
                phone: "ğŸ“± (11) 99999-9999",
                email: "âœ‰ï¸ contato@mirimdog.com.br",
                specialNotice: "âš ï¸ HorÃ¡rio pode variar em feriados. Confirme pelo WhatsApp!",
                openNow: "ğŸŸ¢ ABERTO AGORA",
                closed: "ğŸ”´ FECHADO",
                monday: "Segunda",
                tueToFri: "TerÃ§a a Sexta",
                saturday: "SÃ¡bado",
                sundayHoliday: "Domingo/Feriados",
                pickup: "Retirar no Local",
                delivery: "Delivery",
                table: "Atendimento na Mesa",
                addToCart: "Adicionado!",
                continueShopping: "Continuar",
                viewCart: "Ver Carrinho",
                productNav: "Navegue pela hÃ©lice",
                cartButton: "ğŸ›’ <span id='cartCount'>0</span>",
                modalAdded: "foi adicionado ao seu carrinho.",
                orderTypes: { Delivery: "DELIVERY", Retirada: "RETIRADA", Mesa: "MESA" },
                whatsappMessages: {
                    introMesa: "ğŸ½ï¸ *NOVO PEDIDO â€“ MESA*\n",
                    introDelivery: "ğŸšš *NOVO PEDIDO â€“ DELIVERY*\n",
                    introRetirada: "ğŸ›ï¸ *NOVO PEDIDO â€“ RETIRADA*\n",
                    tablePrompt: "\nğŸ“ *Mesa:* ",
                    paymentPrompt: "\nğŸ’³ *Forma de pagamento?*\n1: Pix\n2: CrÃ©dito\n3: DÃ©bito\n4: Dinheiro\n(Digite o nÃºmero correspondente)",
                    addressPrompt: "\nğŸ  *EndereÃ§o:* "
                },
                removeLabel: "Remover ingredientes:",
                addLabel: "Adicionar extras (+):",
                obsLabel: "ObservaÃ§Ãµes:",
                obsPlaceholder: "Ex: sem tomate, molho Ã  parte",
                removed: "Removido",
                added: "Adicionado",
                observationLabel: "Obs"
            },
            en: {
                cartTitle: "ğŸ§¾ Your Order",
                cartEmpty: "Your cart is empty",
                total: "Total:",
                contactTitle: "ğŸ“ Contact",
                hoursTitle: "ğŸ•’ Hours & Contact",
                address: "ğŸ“ Hot Dog Street, 123",
                phone: "ğŸ“± (11) 99999-9999",
                email: "âœ‰ï¸ contato@mirimdog.com.br",
                specialNotice: "âš ï¸ Hours may vary on holidays. Confirm via WhatsApp!",
                openNow: "ğŸŸ¢ OPEN NOW",
                closed: "ğŸ”´ CLOSED",
                monday: "Monday",
                tueToFri: "Tue to Fri",
                saturday: "Saturday",
                sundayHoliday: "Sunday/Holidays",
                pickup: "Pickup",
                delivery: "Delivery",
                table: "Table Service",
                addToCart: "Added!",
                continueShopping: "Continue",
                viewCart: "View Cart",
                productNav: "Navigate the helix",
                cartButton: "ğŸ›’ <span id='cartCount'>0</span>",
                modalAdded: "was added to your cart.",
                orderTypes: { Delivery: "DELIVERY", Retirada: "PICKUP", Mesa: "TABLE" },
                whatsappMessages: {
                    introMesa: "ğŸ½ï¸ *NEW ORDER â€“ TABLE*\n",
                    introDelivery: "ğŸšš *NEW ORDER â€“ DELIVERY*\n",
                    introRetirada: "ğŸ›ï¸ *NEW ORDER â€“ PICKUP*\n",
                    tablePrompt: "\nğŸ“ *Table:* ",
                    paymentPrompt: "\nğŸ’³ *Payment method?*\n1: Pix\n2: Credit\n3: Debit\n4: Cash\n(Type the corresponding number)",
                    addressPrompt: "\nğŸ  *Address:* "
                },
                removeLabel: "Remove ingredients:",
                addLabel: "Add extras (+):",
                obsLabel: "Notes:",
                obsPlaceholder: "Ex: no tomato, sauce on the side",
                removed: "Removed",
                added: "Added",
                observationLabel: "Note"
            },
            es: {
                cartTitle: "ğŸ§¾ Tu Pedido",
                cartEmpty: "Tu carrito estÃ¡ vacÃ­o",
                total: "Total:",
                contactTitle: "ğŸ“ Contacto",
                hoursTitle: "ğŸ•’ Horarios & Contacto",
                address: "ğŸ“ Calle Hot Dogs, 123",
                phone: "ğŸ“± (11) 99999-9999",
                email: "âœ‰ï¸ contato@mirimdog.com.br",
                specialNotice: "âš ï¸ El horario puede variar en dÃ­as festivos. Confirma por WhatsApp.",
                openNow: "ğŸŸ¢ ABIERTO AHORA",
                closed: "ğŸ”´ CERRADO",
                monday: "Lunes",
                tueToFri: "Mar a Vie",
                saturday: "SÃ¡bado",
                sundayHoliday: "Dom/Feriados",
                pickup: "Recoger en Local",
                delivery: "Delivery",
                table: "Servicio en Mesa",
                addToCart: "Â¡AÃ±adido!",
                continueShopping: "Continuar",
                viewCart: "Ver Carrito",
                productNav: "Navega por la hÃ©lice",
                cartButton: "ğŸ›’ <span id='cartCount'>0</span>",
                modalAdded: "fue aÃ±adido a tu carrito.",
                orderTypes: { Delivery: "DELIVERY", Retirada: "RECOGER", Mesa: "MESA" },
                whatsappMessages: {
                    introMesa: "ğŸ½ï¸ *NUEVO PEDIDO â€“ MESA*\n",
                    introDelivery: "ğŸšš *NUEVO PEDIDO â€“ DELIVERY*\n",
                    introRetirada: "ğŸ›ï¸ *NUEVO PEDIDO â€“ RECOGER*\n",
                    tablePrompt: "\nğŸ“ *Mesa:* ",
                    paymentPrompt: "\nğŸ’³ *Â¿Forma de pago?*\n1: Pix\n2: CrÃ©dito\n3: DÃ©bito\n4: Efectivo\n(Escribe el nÃºmero correspondiente)",
                    addressPrompt: "\nğŸ  *DirecciÃ³n:* "
                },
                removeLabel: "Eliminar ingredientes:",
                addLabel: "Agregar extras (+):",
                obsLabel: "Notas:",
                obsPlaceholder: "Ej: sin tomate, salsa aparte",
                removed: "Eliminado",
                added: "Agregado",
                observationLabel: "Nota"
            },
            de: {
                cartTitle: "ğŸ§¾ Ihre Bestellung",
                cartEmpty: "Ihr Warenkorb ist leer",
                total: "Gesamt:",
                contactTitle: "ğŸ“ Kontakt",
                hoursTitle: "ğŸ•’ Ã–ffnungszeiten & Kontakt",
                address: "ğŸ“ Hot Dog StraÃŸe, 123",
                phone: "ğŸ“± (11) 99999-9999",
                email: "âœ‰ï¸ contato@mirimdog.com.br",
                specialNotice: "âš ï¸ Die Ã–ffnungszeiten kÃ¶nnen an Feiertagen variieren. BestÃ¤tigen Sie bitte per WhatsApp!",
                openNow: "ğŸŸ¢ JETZT OFFEN",
                closed: "ğŸ”´ GESCHLOSSEN",
                monday: "Montag",
                tueToFri: "Di bis Fr",
                saturday: "Samstag",
                sundayHoliday: "So/Feiertage",
                pickup: "Abholung",
                delivery: "Lieferung",
                table: "Tischservice",
                addToCart: "HinzugefÃ¼gt!",
                continueShopping: "Weiter einkaufen",
                viewCart: "Warenkorb ansehen",
                productNav: "Navigieren Sie durch die Helix",
                cartButton: "ğŸ›’ <span id='cartCount'>0</span>",
                modalAdded: "wurde Ihrem Warenkorb hinzugefÃ¼gt.",
                orderTypes: { Delivery: "LIEFERUNG", Retirada: "ABHOLUNG", Mesa: "TISCH" },
                whatsappMessages: {
                    introMesa: "ğŸ½ï¸ *NEUE BESTELLUNG â€“ TISCH*\n",
                    introDelivery: "ğŸšš *NEUE BESTELLUNG â€“ LIEFERUNG*\n",
                    introRetirada: "ğŸ›ï¸ *NEUE BESTELLUNG â€“ ABHOLUNG*\n",
                    tablePrompt: "\nğŸ“ *Tisch:* ",
                    paymentPrompt: "\nğŸ’³ *Zahlungsmethode?*\n1: Pix\n2: Kreditkarte\n3: Debitkarte\n4: Bargeld\n(Geben Sie die entsprechende Zahl ein)",
                    addressPrompt: "\nğŸ  *Adresse:* "
                },
                removeLabel: "Zutaten entfernen:",
                addLabel: "Extras hinzufÃ¼gen (+):",
                obsLabel: "Hinweise:",
                obsPlaceholder: "Z. B.: ohne Tomate, Sauce extra",
                removed: "Entfernt",
                added: "HinzugefÃ¼gt",
                observationLabel: "Hinweis"
            },
            fr: {
                cartTitle: "ğŸ§¾ Votre Commande",
                cartEmpty: "Votre panier est vide",
                total: "Total :",
                contactTitle: "ğŸ“ Contact",
                hoursTitle: "ğŸ•’ Horaires & Contact",
                address: "ğŸ“ Rue des Hot Dogs, 123",
                phone: "ğŸ“± (11) 99999-9999",
                email: "âœ‰ï¸ contato@mirimdog.com.br",
                specialNotice: "âš ï¸ Les horaires peuvent varier les jours fÃ©riÃ©s. Confirmez par WhatsApp !",
                openNow: "ğŸŸ¢ OUVERT MAINTENANT",
                closed: "ğŸ”´ FERMÃ‰",
                monday: "Lundi",
                tueToFri: "Mar au Ven",
                saturday: "Samedi",
                sundayHoliday: "Dim/FÃ©riÃ©s",
                pickup: "Ã€ emporter",
                delivery: "Livraison",
                table: "Service Ã  table",
                addToCart: "AjoutÃ© !",
                continueShopping: "Continuer",
                viewCart: "Voir le panier",
                productNav: "Parcourez la spirale",
                cartButton: "ğŸ›’ <span id='cartCount'>0</span>",
                modalAdded: "a Ã©tÃ© ajoutÃ© Ã  votre panier.",
                orderTypes: { Delivery: "LIVRAISON", Retirada: "Ã€ EMPORTER", Mesa: "TABLE" },
                whatsappMessages: {
                    introMesa: "ğŸ½ï¸ *NOUVELLE COMMANDE â€“ TABLE*\n",
                    introDelivery: "ğŸšš *NOUVELLE COMMANDE â€“ LIVRAISON*\n",
                    introRetirada: "ğŸ›ï¸ *NOUVELLE COMMANDE â€“ Ã€ EMPORTER*\n",
                    tablePrompt: "\nğŸ“ *Table:* ",
                    paymentPrompt: "\nğŸ’³ *Mode de paiement ?*\n1: Pix\n2: Carte de crÃ©dit\n3: Carte de dÃ©bit\n4: EspÃ¨ces\n(Saisissez le numÃ©ro correspondant)",
                    addressPrompt: "\nğŸ  *Adresse:* "
                },
                removeLabel: "Supprimer des ingrÃ©dients :",
                addLabel: "Ajouter des extras (+) :",
                obsLabel: "Remarques :",
                obsPlaceholder: "Ex. : sans tomate, sauce Ã  part",
                removed: "SupprimÃ©",
                added: "AjoutÃ©",
                observationLabel: "Note"
            },
            ja: {
                cartTitle: "ğŸ§¾ ã”æ³¨æ–‡å†…å®¹",
                cartEmpty: "ã‚«ãƒ¼ãƒˆã¯ç©ºã§ã™",
                total: "åˆè¨ˆ:",
                contactTitle: "ğŸ“ ãŠå•ã„åˆã‚ã›",
                hoursTitle: "ğŸ•’ å–¶æ¥­æ™‚é–“ & é€£çµ¡å…ˆ",
                address: "ğŸ“ ãƒ›ãƒƒãƒˆãƒ‰ãƒƒã‚°é€šã‚Š 123",
                phone: "ğŸ“± (11) 99999-9999",
                email: "âœ‰ï¸ contato@mirimdog.com.br",
                specialNotice: "âš ï¸ ç¥æ—¥ã¯å–¶æ¥­æ™‚é–“ãŒå¤‰æ›´ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚WhatsAppã§ã”ç¢ºèªãã ã•ã„ï¼",
                openNow: "ğŸŸ¢ ç¾åœ¨å–¶æ¥­ä¸­",
                closed: "ğŸ”´ ä¼‘æ¥­ä¸­",
                monday: "æœˆæ›œæ—¥",
                tueToFri: "ç«ï½é‡‘",
                saturday: "åœŸæ›œæ—¥",
                sundayHoliday: "æ—¥ãƒ»ç¥æ—¥",
                pickup: "åº—é ­å—ã‘å–ã‚Š",
                delivery: "é…é”",
                table: "ãƒ†ãƒ¼ãƒ–ãƒ«æ³¨æ–‡",
                addToCart: "è¿½åŠ ã—ã¾ã—ãŸï¼",
                continueShopping: "ç¶šã‘ã‚‹",
                viewCart: "ã‚«ãƒ¼ãƒˆã‚’è¦‹ã‚‹",
                productNav: "ã‚¹ãƒ‘ã‚¤ãƒ©ãƒ«ã‚’ãƒŠãƒ“ã‚²ãƒ¼ãƒˆ",
                cartButton: "ğŸ›’ <span id='cartCount'>0</span>",
                modalAdded: "ãŒã‚«ãƒ¼ãƒˆã«è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚",
                orderTypes: { Delivery: "é…é”", Retirada: "å—ã‘å–ã‚Š", Mesa: "ãƒ†ãƒ¼ãƒ–ãƒ«" },
                whatsappMessages: {
                    introMesa: "ğŸ½ï¸ *æ–°è¦æ³¨æ–‡ â€“ ãƒ†ãƒ¼ãƒ–ãƒ«*\n",
                    introDelivery: "ğŸšš *æ–°è¦æ³¨æ–‡ â€“ é…é”*\n",
                    introRetirada: "ğŸ›ï¸ *æ–°è¦æ³¨æ–‡ â€“ å—ã‘å–ã‚Š*\n",
                    tablePrompt: "\nğŸ“ *ãƒ†ãƒ¼ãƒ–ãƒ«ç•ªå·:* ",
                    paymentPrompt: "\nğŸ’³ *ãŠæ”¯æ‰•ã„æ–¹æ³•ã¯ï¼Ÿ*\n1: Pix\n2: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ\n3: ãƒ‡ãƒ“ãƒƒãƒˆ\n4: ç¾é‡‘\n(å¯¾å¿œã™ã‚‹æ•°å­—ã‚’å…¥åŠ›)",
                    addressPrompt: "\nğŸ  *ä½æ‰€:* "
                },
                removeLabel: "å‰Šé™¤ã™ã‚‹ææ–™:",
                addLabel: "è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ (+):",
                obsLabel: "å‚™è€ƒ:",
                obsPlaceholder: "ä¾‹: ãƒˆãƒãƒˆæŠœãã€ã‚½ãƒ¼ã‚¹åˆ¥æ·»ãˆ",
                removed: "å‰Šé™¤æ¸ˆã¿",
                added: "è¿½åŠ æ¸ˆã¿",
                observationLabel: "å‚™è€ƒ"
            },
            "zh-TW": {
                cartTitle: "ğŸ§¾ æ‚¨çš„è¨‚å–®",
                cartEmpty: "æ‚¨çš„è³¼ç‰©è»Šæ˜¯ç©ºçš„",
                total: "ç¸½è¨ˆï¼š",
                contactTitle: "ğŸ“ è¯çµ¡æˆ‘å€‘",
                hoursTitle: "ğŸ•’ ç‡Ÿæ¥­æ™‚é–“ & è¯çµ¡æ–¹å¼",
                address: "ğŸ“ ç†±ç‹—è¡— 123 è™Ÿ",
                phone: "ğŸ“± (11) 99999-9999",
                email: "âœ‰ï¸ contato@mirimdog.com.br",
                specialNotice: "âš ï¸ å‡æ—¥ç‡Ÿæ¥­æ™‚é–“å¯èƒ½è®Šå‹•ï¼Œè«‹é€é WhatsApp ç¢ºèªï¼",
                openNow: "ğŸŸ¢ ç¾åœ¨ç‡Ÿæ¥­ä¸­",
                closed: "ğŸ”´ ä¼‘æ¯ä¸­",
                monday: "é€±ä¸€",
                tueToFri: "é€±äºŒè‡³é€±äº”",
                saturday: "é€±å…­",
                sundayHoliday: "é€±æ—¥/å‡æ—¥",
                pickup: "åˆ°åº—å–é¤",
                delivery: "å¤–é€",
                table: "å…§ç”¨é»é¤",
                addToCart: "å·²åŠ å…¥ï¼",
                continueShopping: "ç¹¼çºŒé¸è³¼",
                viewCart: "æŸ¥çœ‹è³¼ç‰©è»Š",
                productNav: "ç€è¦½èºæ—‹é¸å–®",
                cartButton: "ğŸ›’ <span id='cartCount'>0</span>",
                modalAdded: "å·²åŠ å…¥æ‚¨çš„è³¼ç‰©è»Šã€‚",
                orderTypes: { Delivery: "å¤–é€", Retirada: "å–é¤", Mesa: "å…§ç”¨" },
                whatsappMessages: {
                    introMesa: "ğŸ½ï¸ *æ–°è¨‚å–® â€“ å…§ç”¨*\n",
                    introDelivery: "ğŸšš *æ–°è¨‚å–® â€“ å¤–é€*\n",
                    introRetirada: "ğŸ›ï¸ *æ–°è¨‚å–® â€“ å–é¤*\n",
                    tablePrompt: "\nğŸ“ *æ¡Œè™Ÿ:* ",
                    paymentPrompt: "\nğŸ’³ *ä»˜æ¬¾æ–¹å¼ï¼Ÿ*\n1: Pix\n2: ä¿¡ç”¨å¡\n3: é‡‘èå¡\n4: ç¾é‡‘\n(è«‹è¼¸å…¥å°æ‡‰æ•¸å­—)",
                    addressPrompt: "\nğŸ  *åœ°å€:* "
                },
                removeLabel: "ç§»é™¤é£Ÿæï¼š",
                addLabel: "é¡å¤–åŠ è³¼ (+)ï¼š",
                obsLabel: "å‚™è¨»ï¼š",
                obsPlaceholder: "ä¾‹ï¼šä¸è¦ç•ªèŒ„ã€é†¬æ–™åˆ†é–‹",
                removed: "å·²ç§»é™¤",
                added: "å·²åŠ è³¼",
                observationLabel: "å‚™è¨»"
            }
        };
        let currentLang = 'pt';
        const isMobile = /Mobi|Android/i.test(navigator.userAgent);
        const menuData = [
            {
                id: 1,
                name: { pt: 'X-Tudo', en: 'X-Everything', es: 'X-Todo', de: 'X-Alles', fr: 'X-Tout', ja: 'X-ãƒˆã‚¥ãƒ‰ã‚¥', "zh-TW": 'X-å…¨éƒ¨' },
                price: 28.90,
                dnaColor: '#ef4444',
                imageData: 'images/x-tudo.webp',
                category: 'lanches',
                ingredients: {
                    pt: ['PÃ£o', 'HambÃºrguer', 'Queijo', 'Bacon', 'Presunto', 'Ovo', 'Alface', 'Tomate', 'Molho Especial'],
                    en: ['Bun', 'Beef Patty', 'Cheese', 'Bacon', 'Ham', 'Egg', 'Lettuce', 'Tomato', 'Special Sauce'],
                    es: ['Pan', 'Hamburguesa', 'Queso', 'Tocino', 'JamÃ³n', 'Huevo', 'Lechuga', 'Tomate', 'Salsa Especial'],
                    de: ['BrÃ¶tchen', 'Rinderpflanzerl', 'KÃ¤se', 'Speck', 'Schinken', 'Ei', 'Salat', 'Tomate', 'Spezialsauce'],
                    fr: ['Pain', 'Steak hachÃ©', 'Fromage', 'Lardons', 'Jambon', 'Å’uf', 'Laitue', 'Tomate', 'Sauce spÃ©ciale'],
                    ja: ['ãƒãƒ³ã‚º', 'ãƒ“ãƒ¼ãƒ•ãƒ‘ãƒ†ã‚£', 'ãƒãƒ¼ã‚º', 'ãƒ™ãƒ¼ã‚³ãƒ³', 'ãƒãƒ ', 'åµ', 'ãƒ¬ã‚¿ã‚¹', 'ãƒˆãƒãƒˆ', 'ç‰¹è£½ã‚½ãƒ¼ã‚¹'],
                    "zh-TW": ['éºµåŒ…', 'ç‰›è‚‰æ’', 'èµ·å¸', 'åŸ¹æ ¹', 'ç«è…¿', 'è›‹', 'ç”Ÿèœ', 'ç•ªèŒ„', 'ç‰¹è£½é†¬']
                },
                extras: [
                    { name: { pt: 'HambÃºrguer extra', en: 'Extra Patty', es: 'Hamburguesa extra', de: 'Extra Fleisch', fr: 'Steak supplÃ©mentaire', ja: 'ãƒ‘ãƒ†ã‚£è¿½åŠ ', "zh-TW": 'é¡å¤–ç‰›è‚‰æ’' }, price: 6.00 },
                    { name: { pt: 'Bacon extra', en: 'Extra Bacon', es: 'Tocino extra', de: 'Extra Speck', fr: 'Lardons supplÃ©mentaires', ja: 'ãƒ™ãƒ¼ã‚³ãƒ³è¿½åŠ ', "zh-TW": 'é¡å¤–åŸ¹æ ¹' }, price: 4.50 },
                    { name: { pt: 'Ovo frito', en: 'Fried Egg', es: 'Huevo frito', de: 'Spiegelei', fr: 'Å’uf au plat', ja: 'ç›®ç‰ç„¼ã', "zh-TW": 'ç…è›‹' }, price: 3.00 },
                    { name: { pt: 'Anel de cebola', en: 'Onion Rings', es: 'Aros de cebolla', de: 'Zwiebelringe', fr: 'Rondelles dâ€™oignon', ja: 'ã‚ªãƒ‹ã‚ªãƒ³ãƒªãƒ³ã‚°', "zh-TW": 'æ´‹è”¥åœˆ' }, price: 5.00 }
                ]
            },
            {
                id: 2,
                name: { pt: 'X-Bacon', en: 'X-Bacon', es: 'X-Bacon', de: 'X-Speck', fr: 'X-Lardons', ja: 'X-ãƒ™ãƒ¼ã‚³ãƒ³', "zh-TW": 'X-åŸ¹æ ¹' },
                price: 22.90,
                dnaColor: '#f59f00',
                imageData: 'images/X-bacon.png',
                category: 'lanches',
                ingredients: {
                    pt: ['PÃ£o', 'HambÃºrguer', 'Queijo', 'Bacon', 'Molho da Casa'],
                    en: ['Bun', 'Beef Patty', 'Cheese', 'Bacon', 'House Sauce'],
                    es: ['Pan', 'Hamburguesa', 'Queso', 'Tocino', 'Salsa de la Casa'],
                    de: ['BrÃ¶tchen', 'Rinderpflanzerl', 'KÃ¤se', 'Speck', 'Haussauce'],
                    fr: ['Pain', 'Steak hachÃ©', 'Fromage', 'Lardons', 'Sauce maison'],
                    ja: ['ãƒãƒ³ã‚º', 'ãƒ“ãƒ¼ãƒ•ãƒ‘ãƒ†ã‚£', 'ãƒãƒ¼ã‚º', 'ãƒ™ãƒ¼ã‚³ãƒ³', 'è‡ªå®¶è£½ã‚½ãƒ¼ã‚¹'],
                    "zh-TW": ['éºµåŒ…', 'ç‰›è‚‰æ’', 'èµ·å¸', 'åŸ¹æ ¹', 'ç‰¹è£½é†¬']
                },
                extras: [
                    { name: { pt: 'HambÃºrguer extra', en: 'Extra Patty', es: 'Hamburguesa extra', de: 'Extra Fleisch', fr: 'Steak supplÃ©mentaire', ja: 'ãƒ‘ãƒ†ã‚£è¿½åŠ ', "zh-TW": 'é¡å¤–ç‰›è‚‰æ’' }, price: 6.00 },
                    { name: { pt: 'Queijo extra', en: 'Extra Cheese', es: 'Queso extra', de: 'Extra KÃ¤se', fr: 'Fromage supplÃ©mentaire', ja: 'ãƒãƒ¼ã‚ºè¿½åŠ ', "zh-TW": 'é¡å¤–èµ·å¸' }, price: 3.50 },
                    { name: { pt: 'Maionese temperada', en: 'Seasoned Mayo', es: 'Mayonesa sazonada', de: 'GewÃ¼rzte Mayonnaise', fr: 'Mayonnaise assaisonnÃ©e', ja: 'å‘³ä»˜ããƒãƒ¨ãƒãƒ¼ã‚º', "zh-TW": 'èª¿å‘³ç¾ä¹ƒæ»‹' }, price: 2.00 }
                ]
            },
            {
                id: 3,
                name: { pt: 'Cheddar Burger', en: 'Cheddar Burger', es: 'Cheddar Burger', de: 'Cheddar Burger', fr: 'Burger au Cheddar', ja: 'ãƒã‚§ãƒ€ãƒ¼ãƒãƒ¼ã‚¬ãƒ¼', "zh-TW": 'åˆ‡é”èµ·å¸æ¼¢å ¡' },
                price: 24.90,
                dnaColor: '#facc15',
                imageData: 'images/cheddar burger.webp',
                category: 'lanches',
                ingredients: {
                    pt: ['PÃ£o', 'HambÃºrguer', 'Cheddar', 'Cebola caramelizada'],
                    en: ['Bun', 'Beef Patty', 'Cheddar', 'Caramelized Onion'],
                    es: ['Pan', 'Hamburguesa', 'Cheddar', 'Cebolla caramelizada'],
                    de: ['BrÃ¶tchen', 'Rinderpflanzerl', 'Cheddar', 'Karamellisierte Zwiebeln'],
                    fr: ['Pain', 'Steak hachÃ©', 'Cheddar', 'Oignons caramÃ©lisÃ©s'],
                    ja: ['ãƒãƒ³ã‚º', 'ãƒ“ãƒ¼ãƒ•ãƒ‘ãƒ†ã‚£', 'ãƒã‚§ãƒ€ãƒ¼ãƒãƒ¼ã‚º', 'ã‚«ãƒ©ãƒ¡ãƒ«ã‚ªãƒ‹ã‚ªãƒ³'],
                    "zh-TW": ['éºµåŒ…', 'ç‰›è‚‰æ’', 'åˆ‡é”èµ·å¸', 'ç„¦ç³–æ´‹è”¥']
                },
                extras: [
                    { name: { pt: 'Bacon', en: 'Bacon', es: 'Tocino', de: 'Speck', fr: 'Lardons', ja: 'ãƒ™ãƒ¼ã‚³ãƒ³', "zh-TW": 'åŸ¹æ ¹' }, price: 5.00 },
                    { name: { pt: 'Ovo', en: 'Egg', es: 'Huevo', de: 'Ei', fr: 'Å’uf', ja: 'åµ', "zh-TW": 'è›‹' }, price: 3.00 }
                ]
            },
            {
                id: 4,
                name: { pt: 'Mega Frango', en: 'Mega Chicken', es: 'Mega Pollo', de: 'Mega HÃ¤hnchen', fr: 'Mega Poulet', ja: 'ãƒ¡ã‚¬ãƒã‚­ãƒ³', "zh-TW": 'è¶…å¤§é›è‚‰å ¡' },
                price: 26.90,
                dnaColor: '#f87171',
                imageData: 'images/mega frango.webp',
                category: 'lanches',
                ingredients: {
                    pt: ['PÃ£o', 'FilÃ© de frango', 'Catupiry', 'Bacon', 'Molho barbecue'],
                    en: ['Bun', 'Chicken Fillet', 'Catupiry Cheese', 'Bacon', 'Barbecue Sauce'],
                    es: ['Pan', 'Filete de pollo', 'Queso Catupiry', 'Tocino', 'Salsa barbacoa'],
                    de: ['BrÃ¶tchen', 'HÃ¤hnchenfilet', 'Catupiry-KÃ¤se', 'Speck', 'Barbecuesauce'],
                    fr: ['Pain', 'Filet de poulet', 'Fromage Catupiry', 'Lardons', 'Sauce barbecue'],
                    ja: ['ãƒãƒ³ã‚º', 'ãƒã‚­ãƒ³ãƒ•ã‚£ãƒ¬', 'ã‚«ãƒˆã‚¥ãƒ”ãƒªãƒ¼ãƒãƒ¼ã‚º', 'ãƒ™ãƒ¼ã‚³ãƒ³', 'ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ã‚½ãƒ¼ã‚¹'],
                    "zh-TW": ['éºµåŒ…', 'é›æ’', 'å¡åœ–çš®é‡Œèµ·å¸', 'åŸ¹æ ¹', 'çƒ¤è‚‰é†¬']
                },
                extras: [
                    { name: { pt: 'Frango extra', en: 'Extra Chicken', es: 'Pollo extra', de: 'Extra HÃ¤hnchen', fr: 'Poulet supplÃ©mentaire', ja: 'ãƒã‚­ãƒ³è¿½åŠ ', "zh-TW": 'é¡å¤–é›è‚‰' }, price: 7.00 },
                    { name: { pt: 'Catupiry extra', en: 'Extra Catupiry', es: 'Catupiry extra', de: 'Extra Catupiry', fr: 'Catupiry supplÃ©mentaire', ja: 'ã‚«ãƒˆã‚¥ãƒ”ãƒªãƒ¼è¿½åŠ ', "zh-TW": 'é¡å¤–å¡åœ–çš®é‡Œ' }, price: 4.00 }
                ]
            },
            {
                id: 5,
                name: { pt: 'Hot Dog Mirim', en: 'Mirim Hot Dog', es: 'Perro Caliente Mirim', de: 'Mirim Hot Dog', fr: 'Hot Dog Mirim', ja: 'ãƒŸãƒªãƒ³ãƒ›ãƒƒãƒˆãƒ‰ãƒƒã‚°', "zh-TW": 'ç±³æ—ç†±ç‹—' },
                price: 19.90,
                dnaColor: '#feb2b2',
                imageData: 'images/hot dog.jpg',
                category: 'lanches',
                ingredients: {
                    pt: ['PÃ£o de hot dog', 'Salsicha', 'Batata palha', 'Molho especial'],
                    en: ['Hot Dog Bun', 'Sausage', 'Shoestring Fries', 'Special Sauce'],
                    es: ['Pan de perro caliente', 'Salchicha', 'Papas fritas finas', 'Salsa especial'],
                    de: ['Hot-Dog-BrÃ¶tchen', 'Wurst', 'Pommes frites', 'Spezialsauce'],
                    fr: ['Pain Ã  hot-dog', 'Saucisse', 'Allumettes de pommes de terre', 'Sauce spÃ©ciale'],
                    ja: ['ãƒ›ãƒƒãƒˆãƒ‰ãƒƒã‚°ãƒãƒ³ã‚º', 'ã‚½ãƒ¼ã‚»ãƒ¼ã‚¸', 'ç´°åˆ‡ã‚Šãƒ•ãƒ©ã‚¤ãƒ‰ãƒãƒ†ãƒˆ', 'ç‰¹è£½ã‚½ãƒ¼ã‚¹'],
                    "zh-TW": ['ç†±ç‹—éºµåŒ…', 'é¦™è…¸', 'è–¯æ¢', 'ç‰¹è£½é†¬']
                },
                extras: [
                    { name: { pt: 'Cheddar', en: 'Cheddar', es: 'Cheddar', de: 'Cheddar', fr: 'Cheddar', ja: 'ãƒã‚§ãƒ€ãƒ¼', "zh-TW": 'åˆ‡é”èµ·å¸' }, price: 3.50 },
                    { name: { pt: 'Milho', en: 'Corn', es: 'MaÃ­z', de: 'Mais', fr: 'MaÃ¯s', ja: 'ã‚³ãƒ¼ãƒ³', "zh-TW": 'ç‰ç±³ç²’' }, price: 2.50 }
                ]
            },
            {
                id: 6,
                name: { pt: 'CafÃ© Expresso', en: 'Espresso Coffee', es: 'CafÃ© Expreso', de: 'Espressokaffee', fr: 'CafÃ© Expresso', ja: 'ã‚¨ã‚¹ãƒ—ãƒ¬ãƒƒã‚½', "zh-TW": 'æ¿ƒç¸®å’–å•¡' },
                price: 8.90,
                dnaColor: '#6b462c',
                imageData: 'images/expresso.jpg',
                category: 'bebidas_quentes',
                ingredients: {
                    pt: ['CafÃ© expresso'],
                    en: ['Espresso'],
                    es: ['CafÃ© expreso'],
                    de: ['Espresso'],
                    fr: ['Expresso'],
                    ja: ['ã‚¨ã‚¹ãƒ—ãƒ¬ãƒƒã‚½'],
                    "zh-TW": ['æ¿ƒç¸®å’–å•¡']
                },
                extras: []
            },
            {
                id: 7,
                name: { pt: 'Capuccino', en: 'Cappuccino', es: 'Capuchino', de: 'Cappuccino', fr: 'Cappuccino', ja: 'ã‚«ãƒ—ãƒãƒ¼ãƒ', "zh-TW": 'å¡å¸ƒå¥‡è«¾' },
                price: 12.90,
                dnaColor: '#d2b48c',
                imageData: 'images/cappuccino.jfif',
                category: 'bebidas_quentes',
                ingredients: {
                    pt: ['CafÃ©, leite vaporizado, espuma'],
                    en: ['Coffee, steamed milk, foam'],
                    es: ['CafÃ©, leche vaporizada, espuma'],
                    de: ['Kaffee, aufgeschÃ¤umte Milch, Schaum'],
                    fr: ['CafÃ©, lait vapeur, mousse'],
                    ja: ['ã‚³ãƒ¼ãƒ’ãƒ¼ã€ã‚¹ãƒãƒ¼ãƒ ãƒŸãƒ«ã‚¯ã€ãƒ•ã‚©ãƒ¼ãƒ '],
                    "zh-TW": ['å’–å•¡ã€è’¸å¥¶ã€å¥¶æ³¡']
                },
                extras: [
                    { name: { pt: 'Chocolate em pÃ³', en: 'Cocoa Powder', es: 'Chocolate en polvo', de: 'Kakaopulver', fr: 'Poudre de cacao', ja: 'ã‚³ã‚³ã‚¢ãƒ‘ã‚¦ãƒ€ãƒ¼', "zh-TW": 'å¯å¯ç²‰' }, price: 2.00 }
                ]
            },
            {
                id: 8,
                name: { pt: 'Refrigerante 600ml', en: 'Soda 600ml', es: 'Refresco 600ml', de: 'Limonade 600ml', fr: 'Soda 600ml', ja: 'ã‚½ãƒ¼ãƒ€ 600ml', "zh-TW": 'æ±½æ°´ 600ml' },
                price: 9.90,
                dnaColor: '#3b82f6',
                imageData: 'images/Refrigerante 600ml.jpg',
                category: 'bebidas_frias',
                ingredients: {
                    pt: ['Refrigerante'],
                    en: ['Soda'],
                    es: ['Refresco'],
                    de: ['Limonade'],
                    fr: ['Soda'],
                    ja: ['ã‚½ãƒ¼ãƒ€'],
                    "zh-TW": ['æ±½æ°´']
                },
                extras: []
            },
            {
                id: 9,
                name: { pt: 'Suco Natural', en: 'Fresh Juice', es: 'Jugo Natural', de: 'Fruchtsaft', fr: 'Jus Frais', ja: 'ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚¸ãƒ¥ãƒ¼ã‚¹', "zh-TW": 'é®®æ¦¨æœæ±' },
                price: 11.90,
                dnaColor: '#10b981',
                imageData: 'images/suco natural.webp',
                category: 'bebidas_frias',
                ingredients: {
                    pt: ['Laranja, limÃ£o, abacaxi (escolha um)'],
                    en: ['Orange, lemon, pineapple (choose one)'],
                    es: ['Naranja, limÃ³n, piÃ±a (elige uno)'],
                    de: ['Orange, Zitrone, Ananas (wÃ¤hlen Sie eine)'],
                    fr: ['Orange, citron, ananas (choisissez un)'],
                    ja: ['ã‚ªãƒ¬ãƒ³ã‚¸ã€ãƒ¬ãƒ¢ãƒ³ã€ãƒ‘ã‚¤ãƒŠãƒƒãƒ—ãƒ«ï¼ˆ1ã¤é¸ã‚“ã§ãã ã•ã„ï¼‰'],
                    "zh-TW": ['æŸ³æ©™ã€æª¸æª¬ã€é³³æ¢¨ï¼ˆé¸ä¸€ç¨®ï¼‰']
                },
                extras: [
                    { name: { pt: 'Adicionar polpa', en: 'Add pulp', es: 'Agregar pulpa', de: 'Fruchtfleisch hinzufÃ¼gen', fr: 'Ajouter de la pulpe', ja: 'æœè‚‰ã‚’è¿½åŠ ', "zh-TW": 'åŠ æœè‚‰' }, price: 3.00 }
                ]
            },
            {
                id: 10,
                name: { pt: 'Caipirinha', en: 'Caipirinha', es: 'CaipiriÃ±a', de: 'Caipirinha', fr: 'CaÃ¯pirinha', ja: 'ã‚«ã‚¤ãƒ”ãƒªãƒ¼ãƒ‹ãƒ£', "zh-TW": 'å‡±åŒ¹æ—ç´' },
                price: 18.90,
                dnaColor: '#059669',
                imageData: 'images/caipirinha.webp',
                category: 'drinks',
                ingredients: {
                    pt: ['CachaÃ§a, limÃ£o, aÃ§Ãºcar'],
                    en: ['CachaÃ§a, lime, sugar'],
                    es: ['CachaÃ§a, limÃ³n, azÃºcar'],
                    de: ['CachaÃ§a, Limette, Zucker'],
                    fr: ['CachaÃ§a, citron vert, sucre'],
                    ja: ['ã‚«ã‚·ãƒ£ãƒ¼ã‚µã€ãƒ©ã‚¤ãƒ ã€ç ‚ç³–'],
                    "zh-TW": ['å¡èè–©ã€é’æª¸ã€ç³–']
                },
                extras: [
                    { name: { pt: 'Frutas variadas', en: 'Mixed fruits', es: 'Frutas variadas', de: 'Gemischte FrÃ¼chte', fr: 'Fruits mÃ©langÃ©s', ja: 'ãƒŸãƒƒã‚¯ã‚¹ãƒ•ãƒ«ãƒ¼ãƒ„', "zh-TW": 'ç¶œåˆæ°´æœ' }, price: 4.00 }
                ]
            },
            {
                id: 11,
                name: { pt: 'Batata Frita', en: 'French Fries', es: 'Papas Fritas', de: 'Pommes Frites', fr: 'Frites', ja: 'ãƒ•ãƒ©ã‚¤ãƒ‰ãƒãƒ†ãƒˆ', "zh-TW": 'è–¯æ¢' },
                price: 14.90,
                dnaColor: '#f59e0b',
                imageData: 'images/batata frita.webp',
                category: 'aperitivos',
                ingredients: {
                    pt: ['Batata palha crocante'],
                    en: ['Crispy shoestring fries'],
                    es: ['Papas fritas crujientes'],
                    de: ['Knusprige Pommes'],
                    fr: ['Frites croustillantes'],
                    ja: ['ã‚«ãƒªã‚«ãƒªç´°åˆ‡ã‚Šãƒãƒ†ãƒˆ'],
                    "zh-TW": ['é…¥è„†è–¯æ¢']
                },
                extras: [
                    { name: { pt: 'Cheddar derretido', en: 'Melted cheddar', es: 'Cheddar derretido', de: 'Geschmolzener Cheddar', fr: 'Cheddar fondu', ja: 'æº¶ã‘ãŸãƒã‚§ãƒ€ãƒ¼', "zh-TW": 'èåŒ–çš„åˆ‡é”èµ·å¸' }, price: 5.00 }
                ]
            },
            {
                id: 12,
                name: { pt: 'Combo FamÃ­lia', en: 'Family Combo', es: 'Combo Familiar', de: 'Familien-Combo', fr: 'Menu Famille', ja: 'ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚³ãƒ³ãƒœ', "zh-TW": 'å®¶åº­å¥—é¤' },
                price: 69.90,
                dnaColor: '#ef4444',
                imageData: 'images/base64,UklGRtYAAABXRUJQVlA4WAoAAAAQAAAAADwAABQAAQUxQSLsAAAABJaFRv4GIjI2Oj4+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur6CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/...',
                category: 'combos',
                ingredients: {
                    pt: ['2 X-Tudo, 2 Hot Dogs, 1 Refrigerante 2L'],
                    en: ['2 X-Everything, 2 Hot Dogs, 1 2L Soda'],
                    es: ['2 X-Todo, 2 Perros Calientes, 1 Refresco 2L'],
                    de: ['2 X-Alles, 2 Hot Dogs, 1 2L Limonade'],
                    fr: ['2 X-Tout, 2 Hot Dogs, 1 Soda 2L'],
                    ja: ['X-ãƒˆã‚¥ãƒ‰ã‚¥Ã—2ã€ãƒ›ãƒƒãƒˆãƒ‰ãƒƒã‚°Ã—2ã€2Lã‚½ãƒ¼ãƒ€Ã—1'],
                    "zh-TW": ['X-å…¨éƒ¨ x2ã€ç†±ç‹— x2ã€2Læ±½æ°´ x1']
                },
                extras: []
            },
            {
                id: 13,
                name: { pt: 'Burger Especial Chef', en: 'Chef Special Burger', es: 'Hamburguesa Especial del Chef', de: 'Chef-Spezial-Burger', fr: 'Burger SpÃ©cial du Chef', ja: 'ã‚·ã‚§ãƒ•ã‚¹ãƒšã‚·ãƒ£ãƒ«ãƒãƒ¼ã‚¬ãƒ¼', "zh-TW": 'ä¸»å»šç‰¹è£½æ¼¢å ¡' },
                price: 39.90,
                dnaColor: '#8b5cf6',
                imageData: 'images/hamburguer especial do chef.jpg',
                category: 'especiais',
                ingredients: {
                    pt: ['PÃ£o brioche', 'hambÃºrguer gourmet', 'queijo gouda', 'cebola roxa', 'rÃºcula'],
                    en: ['Brioche bun', 'gourmet beef patty', 'gouda cheese', 'red onion', 'arugula'],
                    es: ['Pan brioche', 'hamburguesa gourmet', 'queso gouda', 'cebolla morada', 'rÃºcula'],
                    de: ['Brioche-BrÃ¶tchen', 'Gourmet-Rinderpflanzerl', 'Gouda-KÃ¤se', 'Rote Zwiebel', 'Rucola'],
                    fr: ['Pain brioche', 'steak hachÃ© gourmet', 'fromage gouda', 'oignon rouge', 'roquette'],
                    ja: ['ãƒ–ãƒªã‚ªãƒƒã‚·ãƒ¥ãƒãƒ³ã‚º', 'ã‚°ãƒ«ãƒ¡ãƒ“ãƒ¼ãƒ•ãƒ‘ãƒ†ã‚£', 'ã‚´ãƒ¼ãƒ€ãƒãƒ¼ã‚º', 'èµ¤ç‰ã­ã', 'ãƒ«ãƒƒã‚³ãƒ©'],
                    "zh-TW": ['å¸ƒé‡Œæ­éºµåŒ…', 'é ‚ç´šç‰›è‚‰æ’', 'é«˜é”èµ·å¸', 'ç´…æ´‹è”¥', 'èŠéº»èœ']
                },
                extras: [
                    { name: { pt: 'Trufa', en: 'Truffle', es: 'Trufa', de: 'TrÃ¼ffel', fr: 'Truffe', ja: 'ãƒˆãƒªãƒ¥ãƒ•', "zh-TW": 'æ¾éœ²' }, price: 10.00 }
                ]
            }
        ];
        let cart = [];
        const cartCount = document.getElementById('cartCount');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const totalAmount = document.getElementById('totalAmount');
        const currentProductEl = document.getElementById('currentProduct');
        const addItemModal = document.getElementById('addItemModal');
        const modalContent = document.getElementById('modalContent');
        const modalItemName = document.getElementById('modalItemName');
        const modalTitle = document.getElementById('modalTitle');
        const continueShopping = document.getElementById('continueShopping');
        const goToCart = document.getElementById('goToCart');
        const pickupBtn = document.getElementById('pickupBtn');
        const deliveryBtnCart = document.getElementById('deliveryBtnCart');
        const tableBtn = document.getElementById('tableBtn');
        const cartTitleEl = document.getElementById('cartTitle');
        const totalLabelEl = document.getElementById('totalLabel');
        // === Estado do sidebar mobile ===
        let isSidebarOpen = window.innerWidth >= 768;
        const sidebar = document.getElementById('mobileSidebar');
        const toggleBtn = document.getElementById('sidebarToggle');
        function toggleSidebar() {
            isSidebarOpen = !isSidebarOpen;
            sidebar.classList.toggle('-translate-x-full', !isSidebarOpen);
            toggleBtn.innerHTML = isSidebarOpen ? 'â®' : 'â¤';
            // Corrige o layout apÃ³s abrir/fechar o sidebar
            setTimeout(() => {
                resetCameraZoom();
                updateRendererSize();
            }, 300);
        }
        toggleBtn.addEventListener('click', toggleSidebar);
        // === Three.js Setup ===
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x0f172a);
        scene.add(new THREE.AmbientLight(0xffffff, 0.4));
        const light = new THREE.PointLight(0xffa500, 1.5);
        light.position.set(300, 300, 300);
        scene.add(light);
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 2000);
        camera.position.z = 500;
        camera.zoom = 1; // Zoom padrÃ£o
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setClearColor(0x0f172a);
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);
        const objects = [];
        const radius = 220;
        const pitch = 60;
        let scrollOffset = 0;
        let targetOffset = 0;
        let currentCategory = 'all';
        // === Controle de interaÃ§Ã£o ===
        let isUserInteracting = false;
        let isAutoScrolling = true;
        let autoScrollSpeed = 0.0008;
        let touchStartY = 0;
        // === Pinch-to-zoom support ===
        let initialDistance = 0;
        let initialZoom = 1;
        function getDistance(touches) {
            const dx = touches[0].clientX - touches[1].clientX;
            const dy = touches[0].clientY - touches[1].clientY;
            return Math.sqrt(dx * dx + dy * dy);
        }
        container.addEventListener('touchstart', (e) => {
            if (e.touches.length === 2) {
                initialDistance = getDistance(e.touches);
                initialZoom = camera.zoom;
                isUserInteracting = true;
                isAutoScrolling = false;
            } else if (e.touches.length === 1) {
                stopAutoScroll();
                touchStartY = e.touches[0].clientY;
            }
        }, { passive: true });
        container.addEventListener('touchmove', (e) => {
            if (e.touches.length === 2) {
                const currentDistance = getDistance(e.touches);
                const zoomFactor = currentDistance / initialDistance;
                camera.zoom = Math.min(Math.max(initialZoom * zoomFactor, 0.5), 2.0);
                camera.updateProjectionMatrix();
                e.preventDefault();
            } else if (e.touches.length === 1) {
                if (!isUserInteracting) isUserInteracting = true;
                const touchY = e.touches[0].clientY;
                const deltaY = touchStartY - touchY;
                targetOffset += deltaY * 0.01;
                touchStartY = touchY;
            }
        }, { passive: false });
        container.addEventListener('touchend', () => {
            // Opcional: reiniciar autoplay apÃ³s X segundos
        });
        function resetCameraZoom() {
            camera.zoom = 1;
            camera.updateProjectionMatrix();
        }
        function updateRendererSize() {
            const sidebarWidth = isSidebarOpen && window.innerWidth < 768 ? 280 : (window.innerWidth >= 768 ? 280 : 0);
            const width = window.innerWidth - sidebarWidth;
            const height = window.innerHeight;
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
            container.style.marginLeft = sidebarWidth + 'px';
        }
        function formatTime(slot) {
            return `${slot.open.replace(':00', 'h')} â€“ ${slot.close.replace(':00', 'h')}`;
        }
        function updateLanguage() {
            const t = languages[currentLang];
            const langButton = document.getElementById('langToggle');
            const langLabels = { pt: 'PT', en: 'EN', es: 'ES', de: 'DE', fr: 'FR', ja: 'JA', "zh-TW": 'ä¸­æ–‡' };
            langButton.textContent = langLabels[currentLang] || currentLang.toUpperCase();
            document.querySelectorAll('.filter-btn').forEach(btn => {
                const cat = btn.dataset.category;
                btn.textContent = categoryTranslations[currentLang][cat] || cat;
            });
            document.getElementById('currentProduct').textContent = t.productNav;
            document.getElementById('cartButton').innerHTML = t.cartButton;
            if (cartTitleEl) cartTitleEl.textContent = t.cartTitle;
            if (totalLabelEl) totalLabelEl.textContent = t.total;
            if (modalTitle) modalTitle.textContent = t.addToCart;
            if (continueShopping) continueShopping.textContent = t.continueShopping;
            if (goToCart) goToCart.textContent = t.viewCart;
            pickupBtn.textContent = t.pickup;
            deliveryBtnCart.textContent = t.delivery;
            tableBtn.textContent = t.table;
            if (cart.length === 0) {
                const emptyMsg = cartItems.querySelector('.text-center');
                if (emptyMsg) emptyMsg.textContent = t.cartEmpty;
            }
            updateCart();
            updateRestaurantInfo();
        }
        function updateRestaurantInfo() {
            const t = languages[currentLang];
            const contactSection = document.getElementById('contact-section');
            const labels = {
                monday: t.monday,
                tueToFri: t.tueToFri,
                saturday: t.saturday,
                sundayHoliday: t.sundayHoliday
            };
            let html = `
                <h3 class="text-lg font-semibold mb-4 text-yellow-300 flex items-center">${t.hoursTitle}</h3>
                <div class="space-y-1 text-sm text-gray-300 mb-4">
                    <div class="flex justify-between"><span>${labels.monday}:</span><span class="text-green-400">${formatTime(restaurantConfig.hours.monday)}</span></div>
                    <div class="flex justify-between"><span>${labels.tueToFri}:</span><span class="text-green-400">${formatTime(restaurantConfig.hours.tueToFri)}</span></div>
                    <div class="flex justify-between"><span>${labels.saturday}:</span><span class="${restaurantConfig.hours.saturday.color}">${formatTime(restaurantConfig.hours.saturday)}</span></div>
                    <div class="flex justify-between"><span>${labels.sundayHoliday}:</span><span class="${restaurantConfig.hours.sundayHoliday.color}">${formatTime(restaurantConfig.hours.sundayHoliday)}</span></div>
                </div>
                <p class="text-xs text-gray-500 italic mb-3">${t.specialNotice}</p>
                <div class="space-y-2 text-gray-300 text-sm">
                    <p>${t.address}</p>
                    <p><a href="https://wa.me/${restaurantConfig.whatsapp}" target="_blank" class="text-green-400 hover:underline">${t.phone}</a></p>
                    <p>${t.email}</p>
                </div>
            `;
            contactSection.innerHTML = html;
            updateOpenStatus();
        }
        function updateOpenStatus() {
            const t = languages[currentLang];
            const now = new Date();
            const day = now.getDay();
            const hour = now.getHours() + now.getMinutes() / 60;
            let slot;
            if (day === 1) slot = restaurantConfig.hours.monday;
            else if (day >= 2 && day <= 5) slot = restaurantConfig.hours.tueToFri;
            else if (day === 6) slot = restaurantConfig.hours.saturday;
            else slot = restaurantConfig.hours.sundayHoliday;
            const open = parseFloat(slot.open.replace(':', '.'));
            const close = parseFloat(slot.close.replace(':', '.'));
            const isOpen = hour >= open && hour < close;
            const statusEl = document.createElement('div');
            statusEl.className = `text-xs font-bold mt-2 ${isOpen ? 'text-green-400 animate-pulse' : 'text-red-500'}`;
            statusEl.textContent = isOpen ? t.openNow : t.closed;
            document.getElementById('contact-section').appendChild(statusEl);
        }
        function generateOrderMessage(type, extraData = {}) {
            const t = languages[currentLang];
            let customerMessage = '';
            let internalMessage = 'ğŸ“Œ *PEDIDO INTERNO (FUNCIONÃRIOS)*\n';
            if (type === 'Mesa') {
                customerMessage = t.whatsappMessages.introMesa;
                internalMessage += 'ğŸ½ï¸ *Novo Pedido para Mesa*\n';
                if (extraData.tableNumber) {
                    customerMessage += t.whatsappMessages.tablePrompt + extraData.tableNumber;
                    internalMessage += "ğŸ“ Mesa: " + extraData.tableNumber + "\n";
                }
            } else if (type === 'Delivery') {
                customerMessage = t.whatsappMessages.introDelivery;
                internalMessage += 'ğŸšš *Novo Pedido para Delivery*\n';
                if (extraData.street && extraData.number && extraData.cep) {
                    const fullAddress = `${extraData.street}, ${extraData.number} - CEP: ${extraData.cep}`;
                    customerMessage += t.whatsappMessages.addressPrompt + fullAddress;
                    internalMessage += "ğŸ  EndereÃ§o: " + fullAddress + "\n";
                }
            } else if (type === 'Retirada') {
                customerMessage = t.whatsappMessages.introRetirada;
                internalMessage += 'ğŸ›ï¸ *Novo Pedido para Retirada*\n';
            }
            cart.forEach(item => {
                const customerName = typeof item.name === 'object' ? item.name[currentLang] : item.name;
                const internalName = item.name.pt || item.name;
                customerMessage += `${customerName} x${item.quantity}\n`;
                internalMessage += `${internalName} x${item.quantity}\n`;
                if (item.removed && item.removed.length > 0) {
                    customerMessage += `   ğŸ”º ${t.removed}: ${item.removed.join(', ')}\n`;
                    internalMessage += `   REMOVER: ${item.removed.join(', ')}\n`;
                }
                if (item.added && item.added.length > 0) {
                    const addedNames = item.added.map(a => typeof a.name === 'object' ? a.name[currentLang] : a.name).join(', ');
                    customerMessage += `   ğŸ”¼ ${t.added}: ${addedNames}\n`;
                    const addedNamesInternal = item.added.map(a => a.name.pt || a.name).join(', ');
                    internalMessage += `   ADICIONAR: ${addedNamesInternal}\n`;
                }
                if (item.observation) {
                    customerMessage += `   ğŸ’¬ ${t.observationLabel}: ${item.observation}\n`;
                    internalMessage += `   OBS: ${item.observation}\n`;
                }
                customerMessage += '\n';
                internalMessage += '\n';
            });
            const total = cart.reduce((sum, i) => sum + i.price * i.quantity, 0).toFixed(2).replace('.', ',');
            customerMessage += `ğŸ’° *Total:* R$ ${total}\n`;
            customerMessage += `\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            customerMessage += t.whatsappMessages.paymentPrompt;
            const fullMessage = customerMessage + '\n' + internalMessage.trim();
            return encodeURIComponent(fullMessage);
        }
        // === Modais de Mesa e Delivery ===
        const tableModal = document.getElementById('tableModal');
        const deliveryModal = document.getElementById('deliveryModal');
        const tableNumberInput = document.getElementById('tableNumberInput');
        const streetInput = document.getElementById('streetInput');
        const numberInput = document.getElementById('numberInput');
        const cepInput = document.getElementById('cepInput');
        const tableError = document.getElementById('tableError');
        const deliveryError = document.getElementById('deliveryError');
        tableBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                alert(languages[currentLang].cartEmpty);
                return;
            }
            tableNumberInput.value = '';
            tableError.textContent = '';
            tableModal.style.display = 'flex';
        });
        deliveryBtnCart.addEventListener('click', () => {
            if (cart.length === 0) {
                alert(languages[currentLang].cartEmpty);
                return;
            }
            streetInput.value = '';
            numberInput.value = '';
            cepInput.value = '';
            deliveryError.textContent = '';
            deliveryModal.style.display = 'flex';
        });
        document.getElementById('cancelTable').onclick = () => tableModal.style.display = 'none';
        document.getElementById('cancelDelivery').onclick = () => deliveryModal.style.display = 'none';
        document.getElementById('sendTableOrder').onclick = () => {
            const tableNum = tableNumberInput.value.trim();
            if (!tableNum) {
                tableError.textContent = 'Por favor, informe o nÃºmero da mesa.';
                return;
            }
            tableError.textContent = '';
            const message = generateOrderMessage('Mesa', { tableNumber: tableNum });
            window.open(`https://wa.me/${restaurantConfig.whatsapp}?text=${message}`, '_blank');
            tableModal.style.display = 'none';
        };
        document.getElementById('sendDeliveryOrder').onclick = () => {
            const street = streetInput.value.trim();
            const number = numberInput.value.trim();
            const cep = cepInput.value.trim().replace(/\D/g, '');
            if (!street || !number || !cep) {
                deliveryError.textContent = 'Por favor, preencha todos os campos.';
                return;
            }
            if (cep.length !== 8) {
                deliveryError.textContent = 'CEP invÃ¡lido. Informe 8 dÃ­gitos.';
                return;
            }
            deliveryError.textContent = '';
            const message = generateOrderMessage('Delivery', { street, number, cep });
            window.open(`https://wa.me/${restaurantConfig.whatsapp}?text=${message}`, '_blank');
            deliveryModal.style.display = 'none';
        };
        // === Restante da lÃ³gica original ===
        const langToggle = document.getElementById('langToggle');
        const langDropdown = document.getElementById('langDropdown');
        langToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            langDropdown.classList.toggle('hidden');
        });
        document.addEventListener('click', () => {
            if (!langDropdown.classList.contains('hidden')) {
                langDropdown.classList.add('hidden');
            }
        });
        langDropdown.querySelectorAll('[data-lang]').forEach(btn => {
            btn.addEventListener('click', () => {
                currentLang = btn.getAttribute('data-lang');
                updateLanguage();
                langDropdown.classList.add('hidden');
            });
        });
        function updateCart() {
            if (cart.length === 0) {
                cartItems.innerHTML = `<p class="text-gray-400 text-sm text-center py-4">${languages[currentLang].cartEmpty}</p>`;
                cartTotal.classList.add('hidden');
            } else {
                cartItems.innerHTML = '';
                cart.forEach(item => {
                    const productName = typeof item.name === 'object' ? item.name[currentLang] : item.name;
                    const el = document.createElement('div');
                    el.className = 'bg-gray-800/50 rounded-lg p-3 text-sm';
                    el.innerHTML = `
                        <div class="flex justify-between mb-1">
                            <span>${productName}</span>
                            <span>R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="decrease-qty w-6 h-6 bg-red-600/20 rounded flex items-center justify-center text-xs" data-id="${item.id}">-</button>
                            <span>${item.quantity}</span>
                            <button class="increase-qty w-6 h-6 bg-green-600/20 rounded flex items-center justify-center text-xs" data-id="${item.id}">+</button>
                        </div>
                        <input type="text" placeholder="${languages[currentLang].obsPlaceholder}" value="${item.observation || ''}" 
                               class="cart-input" data-id="${item.id}" />
                    `;
                    cartItems.appendChild(el);
                });
                cartTotal.classList.remove('hidden');
                totalAmount.textContent = `R$ ${cart.reduce((sum, i) => sum + i.price * i.quantity, 0).toFixed(2).replace('.', ',')}`;
            }
            cartCount.textContent = cart.reduce((sum, i) => sum + i.quantity, 0);
        }
        cartItems.addEventListener('click', (e) => {
            const id = parseInt(e.target.dataset.id);
            const item = cart.find(i => i.id === id);
            if (e.target.classList.contains('increase-qty')) item.quantity++;
            if (e.target.classList.contains('decrease-qty')) {
                item.quantity--;
                if (item.quantity <= 0) cart = cart.filter(i => i.id !== id);
            }
            if (!e.target.matches('.cart-input')) updateCart();
        });
        cartItems.addEventListener('input', (e) => {
            if (e.target.matches('.cart-input')) {
                const id = parseInt(e.target.dataset.id);
                const item = cart.find(i => i.id === id);
                if (item) item.observation = e.target.value;
            }
        });
        function addToCart(product) {
            const t = languages[currentLang];
            const productName = typeof product.name === 'object' ? product.name[currentLang] : product.name;
            const customization = { product, removed: [], added: [], observation: '', totalPrice: product.price };
            document.getElementById('customizeTitle').textContent = productName;
            document.getElementById('removeLabel').textContent = t.removeLabel;
            document.getElementById('addLabel').textContent = t.addLabel;
            document.getElementById('obsLabel').textContent = t.obsLabel;
            document.getElementById('customObservation').placeholder = t.obsPlaceholder;
            const ingredientsEl = document.getElementById('ingredientsList');
            const extrasEl = document.getElementById('extrasList');
            ingredientsEl.innerHTML = '';
            extrasEl.innerHTML = '';
            const ingredients = typeof product.ingredients === 'object' ? product.ingredients[currentLang] : product.ingredients;
            ingredients.forEach(ing => {
                const div = document.createElement('div');
                div.className = 'flex items-center';
                div.innerHTML = `<input type="checkbox" value="${ing}" class="mr-2 remove-ing"><span>${ing}</span>`;
                ingredientsEl.appendChild(div);
            });
            const extras = product.extras.map(extra => ({
                name: typeof extra.name === 'object' ? extra.name[currentLang] : extra.name,
                price: extra.price
            }));
            extras.forEach(extra => {
                const div = document.createElement('div');
                div.className = 'flex items-center justify-between';
                div.innerHTML = `
                    <div class="flex items-center">
                        <input type="checkbox" value="${extra.name}" data-price="${extra.price}" class="mr-2 add-extra">
                        <span>${extra.name}</span>
                    </div>
                    <span class="text-yellow-400 text-sm">+R$ ${extra.price.toFixed(2).replace('.', ',')}</span>
                `;
                extrasEl.appendChild(div);
            });
            const modal = document.getElementById('customizeModal');
            modal.classList.remove('hidden');
            setTimeout(() => {
                document.getElementById('customizeContent').classList.remove('scale-95', 'opacity-0');
                document.getElementById('customizeContent').classList.add('scale-100', 'opacity-100');
            }, 10);
            document.querySelectorAll('.add-extra').forEach(cb => {
                cb.onchange = function() {
                    const price = parseFloat(this.dataset.price);
                    customization.totalPrice += this.checked ? price : -price;
                };
            });
            document.getElementById('addToCartCustom').onclick = function() {
                customization.removed = Array.from(document.querySelectorAll('.remove-ing:checked')).map(cb => cb.value);
                customization.added = Array.from(document.querySelectorAll('.add-extra:checked')).map(cb => ({ 
                    name: { pt: cb.value, en: cb.value, es: cb.value, de: cb.value, fr: cb.value, ja: cb.value, "zh-TW": cb.value }, 
                    price: parseFloat(cb.dataset.price) 
                }));
                customization.observation = document.getElementById('customObservation').value;
                const finalProduct = {
                    id: product.id,
                    name: product.name,
                    price: customization.totalPrice,
                    quantity: 1,
                    removed: customization.removed,
                    added: customization.added,
                    observation: customization.observation,
                    category: product.category
                };
                cart.push(finalProduct);
                updateCart();
                hideCustomizeModal();
                showModal(product);
            };
            document.getElementById('cancelCustomize').onclick = hideCustomizeModal;
        }
        function hideCustomizeModal() {
            const content = document.getElementById('customizeContent');
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            setTimeout(() => document.getElementById('customizeModal').classList.add('hidden'), 300);
        }
        function showModal(product) {
            const t = languages[currentLang];
            const productName = typeof product.name === 'object' ? product.name[currentLang] : product.name;
            modalItemName.textContent = `${productName} ${t.modalAdded}`;
            addItemModal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        }
        function hideModal() {
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => addItemModal.classList.add('hidden'), 300);
        }
        continueShopping.addEventListener('click', hideModal);
        goToCart.addEventListener('click', hideModal);
        // === Sistema de Filtros e Cena 3D ===
        function recreate3DScene() {
            objects.forEach(obj => scene.remove(obj));
            objects.length = 0;
            const filteredData = currentCategory === 'all'
                ? menuData
                : menuData.filter(item => item.category === currentCategory);
            if (filteredData.length === 0) {
                currentProductEl.textContent = languages[currentLang].productNav;
                return;
            }
            const total = filteredData.length;
            const startIndex = -total;
            const endIndex = total * 2;
            for (let visualIndex = startIndex; visualIndex < endIndex; visualIndex++) {
                const dataIndex = ((visualIndex % total) + total) % total;
                const produto = filteredData[dataIndex];
                const canvas = document.createElement('canvas');
                canvas.width = 256;
                canvas.height = 256;
                const ctx = canvas.getContext('2d');
                function drawBackground() {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 256);
                    gradient.addColorStop(0, produto.dnaColor);
                    gradient.addColorStop(1, '#1e293b');
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                }
                function drawFallback() {
                    drawBackground();
                    ctx.font = 'bold 18px sans-serif';
                    ctx.fillStyle = 'white';
                    const productName = typeof produto.name === 'object' ? produto.name[currentLang] : produto.name;
                    ctx.textAlign = 'center';
                    ctx.fillText(productName, canvas.width / 2, 220);
                    ctx.fillStyle = '#facc15';
                    ctx.fillText(`R$ ${produto.price.toFixed(2)}`, canvas.width / 2, 250);
                }
                function drawProductImage() {
                    drawBackground();
                    const img = new Image();
                    img.onload = () => {
                        const scale = Math.min(1, 200 / Math.max(img.width, img.height));
                        const w = img.width * scale;
                        const h = img.height * scale;
                        const x = (canvas.width - w) / 2;
                        const y = (canvas.height - h) / 2 - 20;
                        ctx.drawImage(img, x, y, w, h);
                        ctx.font = 'bold 18px sans-serif';
                        ctx.fillStyle = 'white';
                        const productName = typeof produto.name === 'object' ? produto.name[currentLang] : produto.name;
                        ctx.textAlign = 'center';
                        ctx.fillText(productName, canvas.width / 2, 220);
                        ctx.fillStyle = '#facc15';
                        ctx.fillText(`R$ ${produto.price.toFixed(2)}`, canvas.width / 2, 250);
                        texture.image = canvas;
                        texture.needsUpdate = true;
                    };
                    img.onerror = () => {
                        drawFallback();
                    };
                    img.src = produto.imageData;
                }
                const texture = new THREE.CanvasTexture(canvas);
                const geometry = new THREE.PlaneGeometry(140, 140);
                const material = new THREE.MeshStandardMaterial({ map: texture, side: THREE.DoubleSide });
                const mesh = new THREE.Mesh(geometry, material);
                mesh.userData = {
                    id: produto.id,
                    dataIndex,
                    visualIndex,
                    product: produto
                };
                mesh.userData.clickHandler = () => {
                    addToCart(produto);
                };
                scene.add(mesh);
                objects.push(mesh);
                drawProductImage();
            }
            if (currentCategory === 'all') {
                const xTudoIndex = menuData.findIndex(p => p.id === 1);
                if (xTudoIndex !== -1) {
                    targetOffset = -xTudoIndex * 0.8;
                    scrollOffset = targetOffset;
                } else {
                    targetOffset = 0;
                    scrollOffset = 0;
                }
            } else {
                targetOffset = 0;
                scrollOffset = 0;
            }
        }
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                currentCategory = btn.dataset.category;
                document.querySelectorAll('.filter-btn').forEach(b => {
                    if (b.dataset.category === currentCategory) {
                        b.classList.replace('bg-gray-700', 'bg-red-600');
                        b.classList.add('text-white');
                    } else {
                        b.classList.replace('bg-red-600', 'bg-gray-700');
                        b.classList.remove('text-white');
                    }
                });
                recreate3DScene();
            });
        });
        // === Controles de navegaÃ§Ã£o ===
        function startAutoScroll() {
            isAutoScrolling = true;
            isUserInteracting = false;
        }
        function stopAutoScroll() {
            isAutoScrolling = false;
            isUserInteracting = true;
        }
        // BotÃµes manuais
        document.getElementById('prevBtn').addEventListener('click', () => {
            stopAutoScroll();
            targetOffset -= 0.8;
        });
        document.getElementById('nextBtn').addEventListener('click', () => {
            stopAutoScroll();
            targetOffset += 0.8;
        });
        // Scroll com mouse (desktop)
        if (!isMobile) {
            window.addEventListener('wheel', (e) => {
                stopAutoScroll();
                targetOffset += e.deltaY * 0.003;
            });
        }
        // === AnimaÃ§Ã£o principal ===
        function animate() {
            requestAnimationFrame(animate);
            if (isAutoScrolling && !isUserInteracting) {
                targetOffset += autoScrollSpeed;
            }
            scrollOffset += (targetOffset - scrollOffset) * 0.1;
            let closestObj = null;
            let minDist = Infinity;
            const filteredData = currentCategory === 'all'
                ? menuData
                : menuData.filter(item => item.category === currentCategory);
            objects.forEach(obj => {
                const angle = obj.userData.visualIndex * 0.8 + scrollOffset;
                const y = (obj.userData.visualIndex + scrollOffset / 0.8) * pitch;
                const x = Math.sin(angle) * radius;
                const z = Math.cos(angle) * radius;
                obj.position.set(x, y, z);
                obj.lookAt(camera.position);
                const distFromCenter = Math.abs(y);
                if (distFromCenter < minDist) {
                    minDist = distFromCenter;
                    closestObj = obj;
                }
            });
            if (closestObj && filteredData.length > 0) {
                const productName = typeof closestObj.userData.product.name === 'object'
                    ? closestObj.userData.product.name[currentLang]
                    : closestObj.userData.product.name;
                currentProductEl.textContent = productName;
            }
            renderer.render(scene, camera);
        }
        renderer.domElement.addEventListener('click', (event) => {
            const sidebarWidth = isSidebarOpen && window.innerWidth < 768 ? 280 : (window.innerWidth >= 768 ? 280 : 0);
            const mouse = new THREE.Vector2(
                ((event.clientX - sidebarWidth) / (window.innerWidth - sidebarWidth)) * 2 - 1,
                -(event.clientY / window.innerHeight) * 2 + 1
            );
            const raycaster = new THREE.Raycaster();
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(objects);
            if (intersects.length > 0) {
                const clickedMesh = intersects[0].object;
                if (clickedMesh.userData.clickHandler) {
                    clickedMesh.userData.clickHandler();
                }
            }
        });
        pickupBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                alert(languages[currentLang].cartEmpty);
                return;
            }
            const message = generateOrderMessage('Retirada');
            window.open(`https://wa.me/${restaurantConfig.whatsapp}?text=${message}`, '_blank');
        });
        window.addEventListener('resize', () => {
            updateRendererSize();
        });
        updateRendererSize();
        recreate3DScene();
        updateLanguage();
        animate();
        setTimeout(startAutoScroll, 2000);
        if (window.innerWidth < 768) {
            isSidebarOpen = false;
            sidebar.classList.add('-translate-x-full');
            toggleBtn.innerHTML = 'â¤';
            updateRendererSize();
        }
    </script>
</body>
</html>
